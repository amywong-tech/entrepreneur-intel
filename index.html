<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrepreneur Intelligence | åˆ›ä¸šè€…æƒ…æŠ¥</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            -webkit-font-smoothing: antialiased;
            background: #ffffff;
            color: #000000;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #d1d1d6;
            border-radius: 3px;
        }

        .card {
            transition: all 0.2s ease;
        }

        .card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.06);
        }

        .chart-mini {
            position: relative;
            height: 60px;
        }

        .lang-switch {
            cursor: pointer;
            transition: all 0.2s;
        }

        .lang-switch:hover {
            opacity: 0.7;
        }

        .tab-btn {
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab-btn.active {
            border-bottom: 2px solid #000;
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge-new { background: #000; color: #fff; }
        .badge-hot { background: #ff3b30; color: #fff; }
        .badge-trending { background: #ff9500; color: #fff; }

        .voice-player {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: #000;
            color: #fff;
            border-radius: 16px;
            padding: 16px 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            min-width: 320px;
            z-index: 100;
            display: none;
        }

        .voice-player.show {
            display: block;
        }

        .voice-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: #000;
            color: #fff;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 99;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .voice-btn:hover {
            transform: scale(1.05);
            background: #333;
        }

        .voice-btn.playing {
            background: #ff3b30;
        }

        @keyframes pulse-ring {
            0% { transform: scale(1); opacity: 0.5; }
            100% { transform: scale(1.3); opacity: 0; }
        }

        .pulse {
            animation: pulse-ring 1.5s ease-out infinite;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            overflow: hidden;
            margin: 12px 0;
        }

        .progress-fill {
            height: 100%;
            background: #fff;
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <nav class="border-b border-gray-200 sticky top-0 bg-white z-50">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-xl font-semibold" id="mainTitle">åˆ›ä¸šè€…æƒ…æŠ¥ä¸­å¿ƒ</h1>
                    <p class="text-xs text-gray-500 mt-1" id="subtitle">æ¯æ—¥ç²¾é€‰ Â· åŠ©åŠ›å†³ç­–</p>
                </div>
                <div class="flex items-center gap-4">
                    <span class="text-sm text-gray-600">2026-01-12</span>
                    <button onclick="openVoiceSettings()" class="text-sm text-gray-600 hover:text-black">
                        ğŸ™ï¸ <span class="zh">è¯­éŸ³</span><span class="en hidden">Voice</span>
                    </button>
                    <button onclick="toggleLanguage()" class="lang-switch text-sm font-medium px-3 py-1 border border-gray-300 rounded-md">
                        <span id="langBtn">EN</span>
                    </button>
                    <a href="admin.html" class="text-sm text-black hover:text-gray-600 underline" id="adminLink">ç®¡ç†</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-6 py-6">
        <!-- å¸‚åœºå¤§ç›˜ - ç´§å‡‘åŒæ’å¸ƒå±€ -->
        <div class="mb-6">
            <h2 class="text-sm font-semibold mb-3" id="marketTitle">å¸‚åœºæ¦‚è§ˆ (30å¤©)</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                <!-- ç¬¬ä¸€æ’ -->
                <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <div class="flex justify-between items-start mb-1">
                        <div class="text-xs text-gray-500">ä¸Šè¯</div>
                        <div class="text-sm font-medium text-green-600">+2.3%</div>
                    </div>
                    <div class="text-lg font-semibold mb-1">3,287</div>
                    <div class="chart-mini"><canvas id="chart-sh"></canvas></div>
                </div>

                <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <div class="flex justify-between items-start mb-1">
                        <div class="text-xs text-gray-500">æ·±è¯</div>
                        <div class="text-sm font-medium text-green-600">+1.9%</div>
                    </div>
                    <div class="text-lg font-semibold mb-1">10,856</div>
                    <div class="chart-mini"><canvas id="chart-sz"></canvas></div>
                </div>

                <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <div class="flex justify-between items-start mb-1">
                        <div class="text-xs text-gray-500">åˆ›ä¸šæ¿</div>
                        <div class="text-sm font-medium text-green-600">+3.1%</div>
                    </div>
                    <div class="text-lg font-semibold mb-1">2,146</div>
                    <div class="chart-mini"><canvas id="chart-cy"></canvas></div>
                </div>

                <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <div class="flex justify-between items-start mb-1">
                        <div class="text-xs text-gray-500">çº³æŒ‡</div>
                        <div class="text-sm font-medium text-red-600">-0.5%</div>
                    </div>
                    <div class="text-lg font-semibold mb-1">16,826</div>
                    <div class="chart-mini"><canvas id="chart-nasdaq"></canvas></div>
                </div>

                <!-- ç¬¬äºŒæ’ -->
                <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <div class="flex justify-between items-start mb-1">
                        <div class="text-xs text-gray-500">ç¾å€º10Y</div>
                        <div class="text-sm font-medium text-green-600">+0.1%</div>
                    </div>
                    <div class="text-lg font-semibold mb-1">4.28%</div>
                    <div class="chart-mini"><canvas id="chart-treasury"></canvas></div>
                </div>

                <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <div class="flex justify-between items-start mb-1">
                        <div class="text-xs text-gray-500">é»„é‡‘</div>
                        <div class="text-sm font-medium text-green-600">+1.2%</div>
                    </div>
                    <div class="text-lg font-semibold mb-1">$2,045</div>
                    <div class="chart-mini"><canvas id="chart-gold"></canvas></div>
                </div>

                <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <div class="flex justify-between items-start mb-1">
                        <div class="text-xs text-gray-500">USD/CNY</div>
                        <div class="text-sm font-medium text-red-600">-0.5%</div>
                    </div>
                    <div class="text-lg font-semibold mb-1">7.246</div>
                    <div class="chart-mini"><canvas id="chart-usdcny"></canvas></div>
                </div>

                <div class="bg-white border border-gray-200 rounded-lg p-3">
                    <div class="flex justify-between items-start mb-1">
                        <div class="text-xs text-gray-500">æ¯”ç‰¹å¸</div>
                        <div class="text-sm font-medium text-green-600">+2.8%</div>
                    </div>
                    <div class="text-lg font-semibold mb-1">$42,350</div>
                    <div class="chart-mini"><canvas id="chart-btc"></canvas></div>
                </div>
            </div>
        </div>

        <!-- ä»Šæ—¥æ ¸å¿ƒ -->
        <div class="mb-6 p-5 bg-black text-white rounded-lg">
            <h2 class="text-sm font-semibold mb-2 opacity-70" id="insightTitle">Today's Key Insight</h2>
            <p class="text-base leading-relaxed" id="insightText">ç¾è”å‚¨æš‚åœåŠ æ¯é¢„æœŸå‡æ¸©ï¼ŒAIç›‘ç®¡æ”¿ç­–è½åœ°ï¼Œç§‘æŠ€è‚¡çŸ­æœŸçœ‹æ¶¨ã€‚å»ºè®®å…³æ³¨AIåº”ç”¨è½åœ°æœºä¼šï¼Œè¯„ä¼°ä¸šåŠ¡AIåŒ–å¯èƒ½æ€§ï¼Œè­¦æƒ•ä¼°å€¼æ³¡æ²«ã€‚</p>
        </div>

        <!-- åˆ†ç±»æ ‡ç­¾ -->
        <div class="mb-6 flex items-center gap-3 overflow-x-auto pb-2">
            <button onclick="filterTab('all')" class="tab-btn px-4 py-2 text-sm font-medium whitespace-nowrap active" data-tab="all">
                <span class="zh">å…¨éƒ¨</span><span class="en hidden">All</span>
            </button>
            <button onclick="filterTab('ai')" class="tab-btn px-4 py-2 text-sm font-medium whitespace-nowrap" data-tab="ai">
                <span class="zh">AIåˆ›æ–°</span><span class="en hidden">AI</span>
            </button>
            <button onclick="filterTab('entrepreneur')" class="tab-btn px-4 py-2 text-sm font-medium whitespace-nowrap" data-tab="entrepreneur">
                <span class="zh">åˆ›ä¸šæœºä¼š</span><span class="en hidden">Opportunities</span>
            </button>
            <button onclick="filterTab('celebrity')" class="tab-btn px-4 py-2 text-sm font-medium whitespace-nowrap" data-tab="celebrity">
                <span class="zh">åäººåŠ¨æ€</span><span class="en hidden">Influencers</span>
            </button>
            <button onclick="filterTab('newenergy')" class="tab-btn px-4 py-2 text-sm font-medium whitespace-nowrap" data-tab="newenergy">
                <span class="zh">æ–°èƒ½æº</span><span class="en hidden">Clean Tech</span>
            </button>
            <button onclick="filterTab('trade')" class="tab-btn px-4 py-2 text-sm font-medium whitespace-nowrap" data-tab="trade">
                <span class="zh">è´¸æ˜“</span><span class="en hidden">Trade</span>
            </button>
            <button onclick="filterTab('policy')" class="tab-btn px-4 py-2 text-sm font-medium whitespace-nowrap" data-tab="policy">
                <span class="zh">æ”¿ç­–</span><span class="en hidden">Policy</span>
            </button>
            <button onclick="filterTab('apps')" class="tab-btn px-4 py-2 text-sm font-medium whitespace-nowrap" data-tab="apps">
                <span class="zh">æ–°åº”ç”¨</span><span class="en hidden">New Apps</span>
            </button>
        </div>

        <!-- å†…å®¹åˆ—è¡¨ -->
        <div id="contentList" class="grid grid-cols-1 lg:grid-cols-2 gap-4"></div>

        <!-- æ˜¾ç¤ºè®¡æ•° -->
        <div class="mt-6 text-center text-sm text-gray-500">
            <span class="zh">æ˜¾ç¤º <span id="countNum">12</span> æ¡æƒ…æŠ¥</span>
            <span class="en hidden">Showing <span id="countNumEn">12</span> items</span>
        </div>
    </div>

    <!-- è¯­éŸ³æ’­æŠ¥æ§åˆ¶æŒ‰é’® -->
    <button id="voiceBtn" class="voice-btn" onclick="toggleVoicePlayer()">
        <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
        </svg>
    </button>

    <!-- è¯­éŸ³æ’­æ”¾å™¨é¢æ¿ -->
    <div id="voicePlayer" class="voice-player">
        <div class="flex items-center justify-between mb-2">
            <div class="text-sm font-semibold">
                <span class="zh">æ­£åœ¨æ’­æŠ¥</span>
                <span class="en hidden">Now Playing</span>
            </div>
            <button onclick="closeVoicePlayer()" class="text-white opacity-70 hover:opacity-100">âœ•</button>
        </div>
        
        <div id="currentTitle" class="text-sm mb-2 opacity-80">å‡†å¤‡æ’­æŠ¥...</div>
        
        <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
        </div>
        
        <div class="flex items-center justify-between gap-3 mt-3">
            <button onclick="playPrevious()" class="text-white opacity-70 hover:opacity-100 text-sm">
                â®ï¸ <span class="zh">ä¸Šä¸€æ¡</span><span class="en hidden">Prev</span>
            </button>
            <button id="playPauseBtn" onclick="togglePlayPause()" class="text-white text-2xl">
                â–¶ï¸
            </button>
            <button onclick="playNext()" class="text-white opacity-70 hover:opacity-100 text-sm">
                <span class="zh">ä¸‹ä¸€æ¡</span><span class="en hidden">Next</span> â­ï¸
            </button>
        </div>

        <div class="mt-3 pt-3 border-t border-white/20 text-xs">
            <span class="zh">è¿›åº¦: <span id="progress">0</span> / <span id="total">0</span></span>
            <span class="en hidden">Progress: <span id="progressEn">0</span> / <span id="totalEn">0</span></span>
        </div>
    </div>

    <!-- è¯­éŸ³è®¾ç½®é¢æ¿ -->
    <div id="voiceSettings" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:200; align-items:center; justify-content:center;" onclick="if(event.target===this) closeVoiceSettings()">
        <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4" onclick="event.stopPropagation()">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold">
                    <span class="zh">è¯­éŸ³è®¾ç½®</span>
                    <span class="en hidden">Voice Settings</span>
                </h3>
                <button onclick="closeVoiceSettings()" class="text-gray-500 hover:text-black">âœ•</button>
            </div>

            <div class="space-y-4">
                <!-- è¯­éŸ³é€‰æ‹© -->
                <div>
                    <label class="block text-sm font-medium mb-2">
                        <span class="zh">é€‰æ‹©å£°éŸ³</span>
                        <span class="en hidden">Voice Type</span>
                    </label>
                    <select id="voiceSelect" class="w-full px-4 py-2 border border-gray-300 rounded-md" onchange="updateVoice()">
                        <option value="male-cn">ä¸­æ–‡ç”·å£° (æ²‰ç¨³)</option>
                        <option value="female-cn">ä¸­æ–‡å¥³å£° (ä¸“ä¸š)</option>
                        <option value="male-en">English Male (Deep)</option>
                        <option value="female-en">English Female (Clear)</option>
                    </select>
                </div>

                <!-- è¯­é€Ÿ -->
                <div>
                    <label class="block text-sm font-medium mb-2">
                        <span class="zh">æ’­æŠ¥é€Ÿåº¦</span>
                        <span class="en hidden">Speed</span>
                        <span class="text-gray-500" id="speedValue">1.0x</span>
                    </label>
                    <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="1" 
                        class="w-full" oninput="updateSpeed(this.value)">
                    <div class="flex justify-between text-xs text-gray-500 mt-1">
                        <span>0.5x</span>
                        <span>1.0x</span>
                        <span>2.0x</span>
                    </div>
                </div>

                <!-- éŸ³é‡ -->
                <div>
                    <label class="block text-sm font-medium mb-2">
                        <span class="zh">éŸ³é‡</span>
                        <span class="en hidden">Volume</span>
                        <span class="text-gray-500" id="volumeValue">100%</span>
                    </label>
                    <input type="range" id="volumeRange" min="0" max="100" value="100" 
                        class="w-full" oninput="updateVolume(this.value)">
                </div>

                <!-- æµ‹è¯• -->
                <button onclick="testVoice()" class="w-full py-2 bg-black text-white rounded-md hover:bg-gray-800">
                    <span class="zh">ğŸ”Š è¯•å¬</span>
                    <span class="en hidden">ğŸ”Š Test</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentLang = 'zh';
        let currentTab = 'all';

        // ç”Ÿæˆ30å¤©æ•°æ®
        function generate30DaysData(baseValue, volatility = 0.02) {
            const data = [];
            let value = baseValue;
            for (let i = 0; i < 30; i++) {
                const change = (Math.random() - 0.5) * volatility * value;
                value += change;
                data.push(parseFloat(value.toFixed(2)));
            }
            return data;
        }

        const marketData = {
            sh: generate30DaysData(3200, 0.015),
            sz: generate30DaysData(10650, 0.015),
            cy: generate30DaysData(2080, 0.02),
            nasdaq: generate30DaysData(16900, 0.01),
            treasury: generate30DaysData(4.15, 0.02),
            gold: generate30DaysData(2020, 0.015),
            usdcny: generate30DaysData(7.28, 0.008),
            btc: generate30DaysData(41200, 0.03)
        };

        // åˆå§‹åŒ–è¿·ä½ å›¾è¡¨
        function initMiniChart(id, data, isPositive) {
            const ctx = document.getElementById(id).getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array(30).fill(''),
                    datasets: [{
                        data: data,
                        borderColor: isPositive ? '#10b981' : '#ef4444',
                        borderWidth: 1.5,
                        tension: 0.4,
                        pointRadius: 0,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false }, tooltip: { enabled: false } },
                    scales: {
                        x: { display: false },
                        y: { display: false }
                    }
                }
            });
        }

        // åˆå§‹åŒ–æ‰€æœ‰å›¾è¡¨
        initMiniChart('chart-sh', marketData.sh, true);
        initMiniChart('chart-sz', marketData.sz, true);
        initMiniChart('chart-cy', marketData.cy, true);
        initMiniChart('chart-nasdaq', marketData.nasdaq, false);
        initMiniChart('chart-treasury', marketData.treasury, true);
        initMiniChart('chart-gold', marketData.gold, true);
        initMiniChart('chart-usdcny', marketData.usdcny, false);
        initMiniChart('chart-btc', marketData.btc, true);

        // å†…å®¹æ•°æ®ï¼ˆ10-20æ¡ç²¾é€‰ï¼‰
        const contentData = [
            {
                id: 1,
                category: 'ai',
                badge: 'hot',
                title: { zh: 'OpenAI GPT-5 å¼€å¯å†…æµ‹', en: 'OpenAI GPT-5 Beta Released' },
                summary: { zh: 'æ€§èƒ½æå‡300%ï¼Œæˆæœ¬é™40%', en: 'Performance up 300%, cost down 40%' },
                points: {
                    zh: ['APIæˆæœ¬é™ä½40%ï¼Œé€‚åˆä¸­å°åˆ›ä¸šå›¢é˜Ÿ', 'ä»£ç ç”Ÿæˆå‡†ç¡®ç‡92%ï¼Œå¯æ›¿ä»£åˆçº§å·¥ç¨‹å¸ˆ', 'é•¿è§†é¢‘ç†è§£èƒ½åŠ›ï¼Œé€‚åˆåšæ•™è‚²/åª’ä½“äº§å“'],
                    en: ['API costs down 40%, affordable for startups', 'Code accuracy 92%, can replace junior devs', 'Long video understanding for EdTech/Media']
                },
                actions: {
                    zh: ['è¯„ä¼°ä¸šåŠ¡AIåŒ–å¯èƒ½æ€§ï¼Œé™ä½äººåŠ›æˆæœ¬', 'è§„åˆ’åŸºäºGPT-5çš„æ–°äº§å“çº¿', 'æµ‹è¯•APIæ€§èƒ½ï¼Œå‡†å¤‡æŠ€æœ¯è¿ç§»'],
                    en: ['Assess AI automation potential', 'Plan GPT-5 based products', 'Test API performance']
                },
                risk: { zh: 'å‘å¸ƒå¯èƒ½å»¶æœŸï¼Œä»·æ ¼æœªæœ€ç»ˆç¡®å®š', en: 'Launch may delay, pricing TBD' }
            },
            {
                id: 2,
                category: 'entrepreneur',
                badge: 'new',
                title: { zh: 'Y Combinator 2026æ˜¥å­£æ‹›å‹Ÿå¯åŠ¨', en: 'YC Spring 2026 Applications Open' },
                summary: { zh: 'é‡ç‚¹å…³æ³¨AIåº”ç”¨ã€æ°”å€™ç§‘æŠ€', en: 'Focus on AI apps, climate tech' },
                points: {
                    zh: ['æ¥å—ç‡ä»…1.5%ï¼Œä½†ä¸­å›½å›¢é˜Ÿæœºä¼šå¢åŠ ', 'æä¾›$500Kç§å­è½®+3ä¸ªæœˆåŠ é€Ÿ', 'é‡ç‚¹å¯»æ‰¾AI+å‚ç›´è¡Œä¸šè§£å†³æ–¹æ¡ˆ'],
                    en: ['1.5% acceptance, more spots for China', '$500K seed + 3mo acceleration', 'AI + vertical solutions wanted']
                },
                actions: {
                    zh: ['2æœˆ15æ—¥å‰æäº¤ç”³è¯·ï¼Œå‡†å¤‡Demoè§†é¢‘', 'æ‰¾ç¾å›½è”åˆåˆ›å§‹äººæé«˜æˆåŠŸç‡', 'ç ”ç©¶YCæ ¡å‹é¡¹ç›®ï¼Œå¯»æ‰¾å·®å¼‚åŒ–æ–¹å‘'],
                    en: ['Submit by Feb 15 with demo', 'Find US co-founder', 'Study YC alumni for gaps']
                },
                risk: { zh: 'ç«äº‰æ¿€çƒˆï¼Œéœ€è¦æ¸…æ™°çš„å•†ä¸šæ¨¡å¼', en: 'Highly competitive, need clear business model' }
            },
            {
                id: 3,
                category: 'celebrity',
                badge: 'trending',
                title: { zh: 'é©¬æ–¯å…‹ï¼šç‰¹æ–¯æ‹‰FSDå°†åœ¨ä¸­å›½è½åœ°', en: 'Musk: Tesla FSD Coming to China' },
                summary: { zh: 'å·²è·ç›‘ç®¡æ‰¹å‡†ï¼ŒQ2å¼€å§‹æ¨é€', en: 'Regulatory approved, Q2 rollout' },
                points: {
                    zh: ['ä¸­å›½å°†æˆä¸ºFSDæœ€å¤§å¸‚åœº', 'æœ¬åœ°åŒ–æ•°æ®è®­ç»ƒæ¨¡å‹', 'ä¸ç™¾åº¦åœ°å›¾æ·±åº¦åˆä½œ'],
                    en: ['China to be largest FSD market', 'Localized data training', 'Deep Baidu Maps integration']
                },
                actions: {
                    zh: ['å…³æ³¨è‡ªåŠ¨é©¾é©¶äº§ä¸šé“¾æœºä¼š', 'ç ”ç©¶FSD APIå•†ä¸šåŒ–å¯èƒ½æ€§', 'è€ƒè™‘æ™ºèƒ½è½¦è½½åº”ç”¨åˆ›ä¸šæ–¹å‘'],
                    en: ['Watch autonomous driving supply chain', 'Study FSD API opportunities', 'Consider in-car app ideas']
                },
                risk: { zh: 'ç›‘ç®¡æ”¿ç­–å¯èƒ½å˜åŒ–', en: 'Regulatory uncertainty' }
            },
            {
                id: 4,
                category: 'apps',
                badge: 'new',
                title: { zh: 'Soraè§†é¢‘å·¥å…·æ­£å¼å¼€æ”¾API', en: 'Sora Video API Now Public' },
                summary: { zh: 'æ”¯æŒæ–‡æœ¬ç”Ÿæˆ60ç§’è§†é¢‘', en: 'Text to 60s video generation' },
                points: {
                    zh: ['$0.5/åˆ†é’Ÿï¼Œæ¯”äººå·¥åˆ¶ä½œä¾¿å®œ90%', 'æ”¯æŒ16:9/9:16/1:1å¤šç§æ¯”ä¾‹', 'é€‚åˆçŸ­è§†é¢‘è¥é”€ã€åœ¨çº¿æ•™è‚²åœºæ™¯'],
                    en: ['$0.5/min, 90% cheaper than manual', 'Multiple aspect ratios', 'Perfect for social media, EdTech']
                },
                actions: {
                    zh: ['æµ‹è¯•ç”¨äºäº§å“æ¼”ç¤ºè§†é¢‘ç”Ÿæˆ', 'å¼€å‘åŸºäºSoraçš„è¥é”€è‡ªåŠ¨åŒ–å·¥å…·', 'æ¢ç´¢è§†é¢‘å†…å®¹åˆ›ä¸šæ–¹å‘'],
                    en: ['Test for product demo videos', 'Build Sora-based marketing tools', 'Explore video content startups']
                },
                risk: { zh: 'ç”Ÿæˆè´¨é‡ä»ä¸ç¨³å®š', en: 'Generation quality still unstable' }
            },
            {
                id: 5,
                category: 'newenergy',
                badge: 'hot',
                title: { zh: 'å®å¾·æ—¶ä»£å‘å¸ƒé’ ç¦»å­ç”µæ± 2.0', en: 'CATL Sodium-ion Battery 2.0' },
                summary: { zh: 'æˆæœ¬é™50%ï¼Œèƒ½é‡å¯†åº¦æå‡40%', en: 'Cost down 50%, density up 40%' },
                points: {
                    zh: ['é€‚åˆå‚¨èƒ½å’Œä½ç«¯ç”µåŠ¨è½¦å¸‚åœº', '2027å¹´é‡äº§ï¼Œè®¢å•å·²æ’æ»¡', 'æ‰“ç ´é”‚èµ„æºä¾èµ–'],
                    en: ['For energy storage & budget EVs', '2027 mass production, orders full', 'Breaks lithium dependence']
                },
                actions: {
                    zh: ['å…³æ³¨å‚¨èƒ½åˆ›ä¸šæœºä¼š', 'ç ”ç©¶é’ ç”µæ± ä¾›åº”é“¾', 'è¯„ä¼°æ›¿æ¢ç°æœ‰ç”µæ± æ–¹æ¡ˆå¯è¡Œæ€§'],
                    en: ['Watch energy storage opportunities', 'Study sodium supply chain', 'Assess battery replacement feasibility']
                },
                risk: { zh: 'æŠ€æœ¯ä»åœ¨éªŒè¯é˜¶æ®µ', en: 'Technology still in validation' }
            },
            {
                id: 6,
                category: 'policy',
                title: { zh: 'å›½åŠ¡é™¢AIäº§ä¸šä¸‰å¹´è®¡åˆ’', en: 'China AI 3-Year Plan' },
                summary: { zh: '500äº¿ä¸“é¡¹åŸºé‡‘ï¼Œ2027å¹´ç ´ä¸‡äº¿', en: '$70B fund, $1.4T by 2027' },
                points: {
                    zh: ['é‡ç‚¹æ”¯æŒå‚ç›´è¡Œä¸šAIåº”ç”¨', 'ä¸­å°ä¼ä¸šå¯ç”³æŠ¥æœ€é«˜1000ä¸‡è¡¥è´´', 'ç¨æ”¶ä¼˜æƒ æ”¿ç­–å»¶ç»­è‡³2027å¹´'],
                    en: ['Focus on vertical AI apps', 'SMEs can get up to $1.4M grants', 'Tax benefits through 2027']
                },
                actions: {
                    zh: ['å‡†å¤‡æ”¿åºœé¡¹ç›®ç”³æŠ¥ææ–™', 'æ‰¾å‚ç›´è¡Œä¸šç—›ç‚¹åˆ‡å…¥', 'ç»„å»ºç¬¦åˆç”³æŠ¥è¦æ±‚çš„å›¢é˜Ÿ'],
                    en: ['Prepare grant applications', 'Find vertical pain points', 'Build qualified team']
                },
                risk: { zh: 'ç”³æŠ¥æµç¨‹å¤æ‚ï¼Œç«äº‰æ¿€çƒˆ', en: 'Complex application, high competition' }
            },
            {
                id: 7,
                category: 'entrepreneur',
                title: { zh: 'Stripe Atlasæ”¯æŒä¸­å›½åˆ›ä¸šè€…', en: 'Stripe Atlas Opens to China' },
                summary: { zh: 'å¯å¿«é€Ÿæ³¨å†Œç¾å›½å…¬å¸', en: 'Fast US company formation' },
                points: {
                    zh: ['$500æ³¨å†ŒDelaware C-Corp', 'è‡ªåŠ¨å¼€è®¾ç¾å›½é“¶è¡Œè´¦æˆ·', 'é›†æˆStripeæ”¯ä»˜å’Œç¨åŠ¡å·¥å…·'],
                    en: ['$500 for Delaware C-Corp', 'Auto US bank account', 'Built-in Stripe payments & tax']
                },
                actions: {
                    zh: ['è€ƒè™‘é¢å‘æµ·å¤–å¸‚åœºçš„äº§å“', 'æ³¨å†Œç¾å›½å…¬å¸ä¾¿äºèèµ„', 'ä½¿ç”¨Stripeå¤„ç†å›½é™…æ”¯ä»˜'],
                    en: ['Consider global market products', 'US entity helps fundraising', 'Use Stripe for intl payments']
                },
                risk: { zh: 'éœ€è¦äº†è§£ç¾å›½å…¬å¸è¿è¥', en: 'Need US company operation knowledge' }
            },
            {
                id: 8,
                category: 'celebrity',
                title: { zh: 'é»„ä»å‹‹ï¼š2026æ˜¯AIåº”ç”¨çˆ†å‘å¹´', en: 'Jensen Huang: 2026 AI Apps Boom' },
                summary: { zh: 'GTCå¤§ä¼šé€éœ²GPUäº§èƒ½ç¿»å€', en: 'GTC reveals 2x GPU capacity' },
                points: {
                    zh: ['H200èŠ¯ç‰‡Q2å¤§è§„æ¨¡å‡ºè´§', 'GPUç§Ÿèµä»·æ ¼å°†ä¸‹é™30%', 'çœ‹å¥½AI+åŒ»ç–—ã€AI+åˆ¶é€ '],
                    en: ['H200 mass shipment Q2', 'GPU rental down 30%', 'Bullish on AI+Health, AI+Manufacturing']
                },
                actions: {
                    zh: ['ç°åœ¨æ˜¯AIåˆ›ä¸šæœ€ä½³æ—¶æœº', 'ç®—åŠ›æˆæœ¬ä¸‹é™ï¼Œäº§å“å¯è¡Œæ€§æé«˜', 'å…³æ³¨è‹±ä¼Ÿè¾¾ç”Ÿæ€åˆä½œæœºä¼š'],
                    en: ['Best time for AI startups', 'Lower compute costs = more viable', 'Watch NVIDIA ecosystem']
                },
                risk: { zh: 'å¸‚åœºç«äº‰åŠ å‰§', en: 'Market competition intensifying' }
            },
            {
                id: 9,
                category: 'trade',
                title: { zh: 'å•†åŠ¡éƒ¨èŠ¯ç‰‡å‡ºå£ç®¡åˆ¶æ”¾å®½', en: 'Commerce Eases Chip Export Rules' },
                summary: { zh: '28nmåˆ¶ç¨‹è§£ç¦', en: '28nm process unrestricted' },
                points: {
                    zh: ['åˆ©å¥½åŠå¯¼ä½“å‡ºå£ä¼ä¸š', 'é¢„è®¡+200äº¿ç¾å…ƒå‡ºå£é¢', 'æ™ºèƒ½ç¡¬ä»¶æˆæœ¬ä¸‹é™'],
                    en: ['Benefits chip exporters', '+$200B export potential', 'Lower hardware costs']
                },
                actions: {
                    zh: ['è¯„ä¼°æ™ºèƒ½ç¡¬ä»¶åˆ›ä¸šæœºä¼š', 'å…³æ³¨ä¾›åº”é“¾æˆæœ¬å˜åŒ–', 'è€ƒè™‘èŠ¯ç‰‡é‡‡è´­è®®ä»·'],
                    en: ['Assess smart hardware opportunities', 'Watch supply chain costs', 'Negotiate chip pricing']
                },
                risk: { zh: 'æ”¿ç­–å¯èƒ½åå¤', en: 'Policy may reverse' }
            },
            {
                id: 10,
                category: 'apps',
                title: { zh: 'Notion AIåŠŸèƒ½å…¨é¢å‡çº§', en: 'Notion AI Major Upgrade' },
                summary: { zh: 'æ”¯æŒå…¨æ–‡æ¡£æ™ºèƒ½é‡å†™', en: 'Full doc smart rewrite' },
                points: {
                    zh: ['ä¸€é”®ç”ŸæˆPRDã€ç«å“åˆ†æ', 'AIä¼šè®®çºªè¦è‡ªåŠ¨æ•´ç†', 'ä¸Slack/Gmailæ·±åº¦é›†æˆ'],
                    en: ['One-click PRD, competitor analysis', 'Auto meeting notes', 'Deep Slack/Gmail integration']
                },
                actions: {
                    zh: ['æµ‹è¯•ç”¨äºå›¢é˜Ÿåä½œæ•ˆç‡æå‡', 'ç ”ç©¶ç±»ä¼¼å·¥å…·çš„åˆ›ä¸šæœºä¼š', 'è¯„ä¼°æ›¿ä»£ç°æœ‰å·¥å…·å¯èƒ½æ€§'],
                    en: ['Test for team productivity', 'Study similar tool opportunities', 'Assess replacement feasibility']
                },
                risk: { zh: 'AIç”Ÿæˆå†…å®¹éœ€äººå·¥å®¡æ ¸', en: 'AI content needs human review' }
            },
            {
                id: 11,
                category: 'newenergy',
                title: { zh: 'æ¬§ç›Ÿç¢³å…³ç¨æ­£å¼å®æ–½', en: 'EU Carbon Border Tax Effective' },
                summary: { zh: 'å½±å“å‡ºå£ä¼ä¸šæˆæœ¬', en: 'Impacts export costs' },
                points: {
                    zh: ['é«˜ç¢³äº§å“å‡ºå£æˆæœ¬å¢åŠ 5-15%', 'æ¸…æ´èƒ½æºä¼ä¸šè·å¾—ç«äº‰ä¼˜åŠ¿', 'å€’é€¼åˆ¶é€ ä¸šç»¿è‰²è½¬å‹'],
                    en: ['High-carbon exports +5-15% cost', 'Clean energy gains advantage', 'Forces green manufacturing']
                },
                actions: {
                    zh: ['è¯„ä¼°ä¸šåŠ¡ç¢³è¶³è¿¹', 'è€ƒè™‘ç»¿è‰²ä¾›åº”é“¾æ”¹é€ ', 'å…³æ³¨ç¢³äº¤æ˜“å¸‚åœºæœºä¼š'],
                    en: ['Assess carbon footprint', 'Consider green supply chain', 'Watch carbon trading market']
                },
                risk: { zh: 'åˆè§„æˆæœ¬è¾ƒé«˜', en: 'High compliance costs' }
            },
            {
                id: 12,
                category: 'ai',
                title: { zh: 'Anthropic Claude 4æ­£å¼å‘å¸ƒ', en: 'Anthropic Claude 4 Released' },
                summary: { zh: '100ä¸‡tokenä¸Šä¸‹æ–‡', en: '1M token context' },
                points: {
                    zh: ['é€‚åˆæ³•å¾‹ã€åŒ»ç–—é•¿æ–‡æ¡£åˆ†æ', 'æˆæœ¬é™50%ï¼Œé€Ÿåº¦æå‡2å€', 'æ”¯æŒPDFã€å›¾ç‰‡ã€ä»£ç è¾“å…¥'],
                    en: ['Perfect for legal, medical docs', 'Cost -50%, speed 2x', 'PDF, image, code input']
                },
                actions: {
                    zh: ['å¯¹æ¯”GPT-5é€‰æ‹©æœ€ä½³æ¨¡å‹', 'æ¢ç´¢é•¿æ–‡æ¡£AIåº”ç”¨åœºæ™¯', 'æµ‹è¯•åˆåŒ/æŠ¥å‘Šè‡ªåŠ¨åˆ†æ'],
                    en: ['Compare with GPT-5', 'Explore long-doc use cases', 'Test contract/report analysis']
                },
                risk: { zh: 'è¶…é•¿ä¸Šä¸‹æ–‡å½±å“å“åº”é€Ÿåº¦', en: 'Long context slows response' }
            }
        ];

        // æ¸²æŸ“å†…å®¹
        function renderContent() {
            const container = document.getElementById('contentList');
            let filtered = contentData;

            if (currentTab !== 'all') {
                filtered = contentData.filter(item => item.category === currentTab);
            }

            // é™åˆ¶æ˜¾ç¤º10-20æ¡
            filtered = filtered.slice(0, 12);

            document.getElementById('countNum').textContent = filtered.length;
            document.getElementById('countNumEn').textContent = filtered.length;

            container.innerHTML = filtered.map(item => `
                <div class="card bg-white border border-gray-200 rounded-lg p-5">
                    <div class="flex items-start justify-between mb-3">
                        <span class="badge badge-${item.badge || 'new'}">${item.badge === 'hot' ? 'ğŸ”¥' : item.badge === 'trending' ? 'ğŸ“ˆ' : 'ğŸ†•'}</span>
                        <span class="text-xs text-gray-500">${getCategoryLabel(item.category)}</span>
                    </div>
                    
                    <h3 class="text-lg font-semibold mb-2">
                        <span class="zh">${item.title.zh}</span>
                        <span class="en hidden">${item.title.en}</span>
                    </h3>
                    
                    <p class="text-sm text-gray-600 mb-4">
                        <span class="zh">${item.summary.zh}</span>
                        <span class="en hidden">${item.summary.en}</span>
                    </p>
                    
                    <div class="space-y-3">
                        <div>
                            <div class="text-xs font-semibold text-gray-700 mb-1">
                                <span class="zh">æ ¸å¿ƒè¦ç‚¹</span>
                                <span class="en hidden">Key Points</span>
                            </div>
                            <div class="text-sm text-gray-600 space-y-1">
                                ${item.points[currentLang].map(p => `<div>â€¢ ${p}</div>`).join('')}
                            </div>
                        </div>
                        
                        <div>
                            <div class="text-xs font-semibold text-gray-700 mb-1">
                                <span class="zh">åˆ›ä¸šå»ºè®®</span>
                                <span class="en hidden">Action Items</span>
                            </div>
                            <div class="text-sm text-gray-600 space-y-1">
                                ${item.actions[currentLang].map(a => `<div>â†’ ${a}</div>`).join('')}
                            </div>
                        </div>
                        
                        <div class="pt-2 border-t border-gray-100">
                            <div class="text-xs font-semibold text-gray-700 mb-1">
                                <span class="zh">é£é™©æç¤º</span>
                                <span class="en hidden">Risk</span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <span class="zh">${item.risk.zh}</span>
                                <span class="en hidden">${item.risk.en}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // åˆ‡æ¢è¯­è¨€
        function toggleLanguage() {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            
            if (currentLang === 'en') {
                document.querySelectorAll('.zh').forEach(el => el.classList.add('hidden'));
                document.querySelectorAll('.en').forEach(el => el.classList.remove('hidden'));
                document.getElementById('langBtn').textContent = 'ä¸­';
                document.getElementById('mainTitle').textContent = 'Entrepreneur Intelligence';
                document.getElementById('subtitle').textContent = 'Daily Insights for Decision Making';
                document.getElementById('marketTitle').textContent = 'Market Overview (30d)';
                document.getElementById('insightTitle').textContent = 'Today\'s Key Insight';
                document.getElementById('insightText').textContent = 'Fed pause expectations rise, AI regulation lands, tech stocks bullish short-term. Focus on AI application opportunities, assess business AI potential, beware valuation bubbles.';
                document.getElementById('adminLink').textContent = 'Admin';
            } else {
                document.querySelectorAll('.zh').forEach(el => el.classList.remove('hidden'));
                document.querySelectorAll('.en').forEach(el => el.classList.add('hidden'));
                document.getElementById('langBtn').textContent = 'EN';
                document.getElementById('mainTitle').textContent = 'åˆ›ä¸šè€…æƒ…æŠ¥ä¸­å¿ƒ';
                document.getElementById('subtitle').textContent = 'æ¯æ—¥ç²¾é€‰ Â· åŠ©åŠ›å†³ç­–';
                document.getElementById('marketTitle').textContent = 'å¸‚åœºæ¦‚è§ˆ (30å¤©)';
                document.getElementById('insightTitle').textContent = 'ä»Šæ—¥æ ¸å¿ƒ';
                document.getElementById('insightText').textContent = 'ç¾è”å‚¨æš‚åœåŠ æ¯é¢„æœŸå‡æ¸©ï¼ŒAIç›‘ç®¡æ”¿ç­–è½åœ°ï¼Œç§‘æŠ€è‚¡çŸ­æœŸçœ‹æ¶¨ã€‚å»ºè®®å…³æ³¨AIåº”ç”¨è½åœ°æœºä¼šï¼Œè¯„ä¼°ä¸šåŠ¡AIåŒ–å¯èƒ½æ€§ï¼Œè­¦æƒ•ä¼°å€¼æ³¡æ²«ã€‚';
                document.getElementById('adminLink').textContent = 'ç®¡ç†';
            }
        }

        // ç­›é€‰æ ‡ç­¾
        function filterTab(tab) {
            currentTab = tab;
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            renderContent();
        }

        function getCategoryLabel(cat) {
            const labels = {
                ai: 'AI',
                entrepreneur: currentLang === 'zh' ? 'åˆ›ä¸š' : 'Startup',
                celebrity: currentLang === 'zh' ? 'åäºº' : 'Celebrity',
                newenergy: currentLang === 'zh' ? 'æ–°èƒ½æº' : 'Energy',
                trade: currentLang === 'zh' ? 'è´¸æ˜“' : 'Trade',
                policy: currentLang === 'zh' ? 'æ”¿ç­–' : 'Policy',
                apps: currentLang === 'zh' ? 'åº”ç”¨' : 'Apps'
            };
            return labels[cat];
        }

        // åˆå§‹åŒ–
        renderContent();

        // ====== è¯­éŸ³æ’­æŠ¥åŠŸèƒ½ ======
        let speechSynth = window.speechSynthesis;
        let currentUtterance = null;
        let currentIndex = 0;
        let isPlaying = false;
        let availableVoices = [];
        let voiceSettings = {
            type: 'male-cn',
            speed: 1.0,
            volume: 1.0
        };

        // åŠ è½½å¯ç”¨è¯­éŸ³
        function loadVoices() {
            availableVoices = speechSynth.getVoices();
        }

        if (speechSynth.onvoiceschanged !== undefined) {
            speechSynth.onvoiceschanged = loadVoices;
        }
        loadVoices();

        // é€‰æ‹©åˆé€‚çš„è¯­éŸ³
        function selectVoice(type) {
            const voices = speechSynth.getVoices();
            let voice = null;

            if (type === 'male-cn') {
                // ä¸­æ–‡ç”·å£° - ä¼˜å…ˆé€‰æ‹©ä¸“ä¸šçš„å£°éŸ³
                voice = voices.find(v => v.lang.includes('zh') && v.name.includes('Male')) ||
                        voices.find(v => v.lang.includes('zh') && !v.name.includes('Female')) ||
                        voices.find(v => v.lang.includes('zh'));
            } else if (type === 'female-cn') {
                // ä¸­æ–‡å¥³å£° - é¿å…å¯çˆ±å£°éŸ³
                voice = voices.find(v => v.lang.includes('zh') && v.name.includes('Female') && !v.name.includes('Ting')) ||
                        voices.find(v => v.lang.includes('zh') && v.name.includes('Female'));
            } else if (type === 'male-en') {
                voice = voices.find(v => v.lang.includes('en') && v.name.includes('Male')) ||
                        voices.find(v => v.lang.includes('en-US') && !v.name.includes('Female'));
            } else if (type === 'female-en') {
                voice = voices.find(v => v.lang.includes('en') && v.name.includes('Female') && !v.name.includes('Samantha')) ||
                        voices.find(v => v.lang.includes('en-GB'));
            }

            return voice || voices.find(v => v.lang.includes(currentLang === 'zh' ? 'zh' : 'en'));
        }

        // ç”Ÿæˆæ’­æŠ¥æ–‡æœ¬
        function generateSpeechText(item) {
            const lang = currentLang;
            const title = item.title[lang];
            const summary = item.summary[lang];
            const points = item.points[lang].join('ã€‚ ');
            const actions = item.actions[lang].join('ã€‚ ');

            if (lang === 'zh') {
                return `${title}ã€‚${summary}ã€‚æ ¸å¿ƒè¦ç‚¹ï¼š${points}ã€‚åˆ›ä¸šå»ºè®®ï¼š${actions}`;
            } else {
                return `${title}. ${summary}. Key points: ${points}. Action items: ${actions}`;
            }
        }

        // æ’­æ”¾æŒ‡å®šæ–°é—»
        function playNewsItem(index) {
            if (index < 0 || index >= contentData.length) return;

            currentIndex = index;
            const item = contentData[index];
            const text = generateSpeechText(item);

            // åœæ­¢å½“å‰æ’­æ”¾
            if (currentUtterance) {
                speechSynth.cancel();
            }

            // åˆ›å»ºæ–°çš„è¯­éŸ³
            currentUtterance = new SpeechSynthesisUtterance(text);
            currentUtterance.voice = selectVoice(voiceSettings.type);
            currentUtterance.rate = voiceSettings.speed;
            currentUtterance.volume = voiceSettings.volume;
            currentUtterance.lang = currentLang === 'zh' ? 'zh-CN' : 'en-US';

            // æ›´æ–°UI
            document.getElementById('currentTitle').textContent = item.title[currentLang];
            document.getElementById('progress').textContent = index + 1;
            document.getElementById('progressEn').textContent = index + 1;
            document.getElementById('total').textContent = contentData.length;
            document.getElementById('totalEn').textContent = contentData.length;

            // æ’­æ”¾å®Œæˆåè‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€æ¡
            currentUtterance.onend = () => {
                if (isPlaying && currentIndex < contentData.length - 1) {
                    setTimeout(() => playNext(), 500);
                } else {
                    isPlaying = false;
                    updatePlayButton();
                }
            };

            // è¿›åº¦æ¡åŠ¨ç”»ï¼ˆä¼°ç®—ï¼‰
            const duration = text.length / voiceSettings.speed * 60; // ä¼°ç®—æ—¶é•¿(ms)
            animateProgress(duration);

            speechSynth.speak(currentUtterance);
            isPlaying = true;
            updatePlayButton();
        }

        // è¿›åº¦æ¡åŠ¨ç”»
        function animateProgress(duration) {
            const fill = document.getElementById('progressFill');
            fill.style.width = '0%';
            setTimeout(() => {
                fill.style.transition = `width ${duration}ms linear`;
                fill.style.width = '100%';
            }, 100);
        }

        // åˆ‡æ¢æ’­æ”¾/æš‚åœ
        function togglePlayPause() {
            if (isPlaying) {
                speechSynth.pause();
                isPlaying = false;
            } else {
                if (speechSynth.paused) {
                    speechSynth.resume();
                } else {
                    playNewsItem(currentIndex);
                }
                isPlaying = true;
            }
            updatePlayButton();
        }

        // ä¸Šä¸€æ¡
        function playPrevious() {
            if (currentIndex > 0) {
                playNewsItem(currentIndex - 1);
            }
        }

        // ä¸‹ä¸€æ¡
        function playNext() {
            if (currentIndex < contentData.length - 1) {
                playNewsItem(currentIndex + 1);
            }
        }

        // æ›´æ–°æ’­æ”¾æŒ‰é’®
        function updatePlayButton() {
            const btn = document.getElementById('playPauseBtn');
            const voiceBtn = document.getElementById('voiceBtn');
            
            if (isPlaying) {
                btn.textContent = 'â¸ï¸';
                voiceBtn.classList.add('playing');
            } else {
                btn.textContent = 'â–¶ï¸';
                voiceBtn.classList.remove('playing');
            }
        }

        // æ˜¾ç¤º/éšè—æ’­æ”¾å™¨
        function toggleVoicePlayer() {
            const player = document.getElementById('voicePlayer');
            const btn = document.getElementById('voiceBtn');
            
            if (player.classList.contains('show')) {
                player.classList.remove('show');
                btn.style.display = 'flex';
            } else {
                player.classList.add('show');
                btn.style.display = 'none';
                if (!isPlaying) {
                    playNewsItem(0);
                }
            }
        }

        function closeVoicePlayer() {
            document.getElementById('voicePlayer').classList.remove('show');
            document.getElementById('voiceBtn').style.display = 'flex';
            speechSynth.cancel();
            isPlaying = false;
            updatePlayButton();
        }

        // è¯­éŸ³è®¾ç½®
        function openVoiceSettings() {
            document.getElementById('voiceSettings').style.display = 'flex';
        }

        function closeVoiceSettings() {
            document.getElementById('voiceSettings').style.display = 'none';
        }

        function updateVoice() {
            voiceSettings.type = document.getElementById('voiceSelect').value;
            localStorage.setItem('voiceSettings', JSON.stringify(voiceSettings));
        }

        function updateSpeed(value) {
            voiceSettings.speed = parseFloat(value);
            document.getElementById('speedValue').textContent = value + 'x';
            localStorage.setItem('voiceSettings', JSON.stringify(voiceSettings));
        }

        function updateVolume(value) {
            voiceSettings.volume = parseFloat(value) / 100;
            document.getElementById('volumeValue').textContent = value + '%';
            localStorage.setItem('voiceSettings', JSON.stringify(voiceSettings));
        }

        function testVoice() {
            const testText = currentLang === 'zh' 
                ? 'æ‚¨å¥½ï¼Œè¿™æ˜¯è¯­éŸ³æµ‹è¯•ã€‚OpenAI GPT-5 å¼€å¯å†…æµ‹ï¼Œæ€§èƒ½æå‡ä¸‰ç™¾å€ã€‚'
                : 'Hello, this is a voice test. OpenAI GPT-5 beta released with 300% performance improvement.';
            
            const utterance = new SpeechSynthesisUtterance(testText);
            utterance.voice = selectVoice(voiceSettings.type);
            utterance.rate = voiceSettings.speed;
            utterance.volume = voiceSettings.volume;
            utterance.lang = currentLang === 'zh' ? 'zh-CN' : 'en-US';
            
            speechSynth.speak(utterance);
        }

        // åŠ è½½ä¿å­˜çš„è®¾ç½®
        const savedSettings = localStorage.getItem('voiceSettings');
        if (savedSettings) {
            voiceSettings = JSON.parse(savedSettings);
            document.getElementById('voiceSelect').value = voiceSettings.type;
            document.getElementById('speedRange').value = voiceSettings.speed;
            document.getElementById('volumeRange').value = voiceSettings.volume * 100;
            document.getElementById('speedValue').textContent = voiceSettings.speed + 'x';
            document.getElementById('volumeValue').textContent = (voiceSettings.volume * 100) + '%';
        }
    </script>
</body>
</html>
